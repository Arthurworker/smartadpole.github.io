---
layout: article
title:  "「C++」 输入输出流"
date:   2019-01-01 8:06:40 +0800
key: iostreame-review-20190101
aside:
  toc: true
category: [c++, stl]
---
<span id='head'></span>

<!--more-->

# 1 引言

# 2 屏幕 IO
## 2.1 高效

# 3 文件 IO
## 3.1 二进制

## 3.2 文本

### 3.2.1 CSV
[读取示例](#read_csv)     

# 4 缓冲

# 5 定位

# 6 格式化

# 7 国际化

## 7.1 宽字符流

## 7.2 区域性字符流


-------------------  
[End](#head)
{:.warning}  
# 附录
## A 代码示例
<span id="binaryio_vector">**1. vector 读写：二进制**</span>     
```
#include <iostream>
#include <fstream>

template<typename T>
bool ReadVector(const std::string file, std::vector<T>& buffer)
{
    long size;
    ifstream in;

    in.open(file, ios::in | ios::binary | ios::ate);
    if(!in)
    {  
        std::cout << "open error!" << endl;  
        return -1;  
    }  

    size = in.tellg();  
    size = size -4;//我需要跳过4个字节，个人需要。

    buffer.resize(size);
    in.seekg (4, ios::beg);  //jump to begin pos + 偏移量
    in.read (reinterpret_cast<char*>(&buffer[0]),buffer.size());

    in.close();
}
```


# 附录
## A 参考资料
1. Bruce Eckel, Chuck Allison 著. 刘宗田, et al. 译. C++ 编程思想[M]. 北京:机械工业出版社, 2016.      
1. R.Alexande 著. 王峰. 史金虎. 译. C++ 高效编程: 内存与性能优化[M]. 北京:中国电力出版社, 2003.     

## B 代码示例
<span id='read_csv'>**1. csv 文件读取**</span>
```c++
// read
ifstream inFile("data.csv", ios::in);
string lineStr;
vector<vector<string>> strArray;
while (getline(inFile, lineStr))
{
    stringstream ss(lineStr);
    string str;
    vector<string> lineArray;

    // split with ','
    while (getline(ss, str, ','))
    	lineArray.push_back(str);
    strArray.push_back(lineArray);
}
```
