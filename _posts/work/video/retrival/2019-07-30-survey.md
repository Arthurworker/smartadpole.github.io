---
layout: article
title:  "「VIDEO」 视频检索概述"
date:   2019-07-30 16:06:40 +0800
key: retrival-survey-20190730
aside:
  toc: true
category: [video, video_retrival]
---
<span id='head'></span>  

<!--more-->  
`video retrieval`； `duplicate video detection` · `near-duplicate`； `Video Copy Detection`； `key frame extraction` · `bag of keyframes`； `video localization`；    

1.视频检索时需要对视频进行抽帧，针对不同时常的视频抽取到的帧数也就不同，如何解决这种情况下的相似度度量
{:.warning}  

# 1 特征提取
>实际工程中常使用抽帧及关键帧检测；在抽帧结果上再提取视频或者帧特征；   

## 1.1 视频级特征
使用深度学习方法，如 iDT、或者 C3D 来提取视频级特征；直接计算余弦相似度或者欧式距离就可以；      
缺点是海量视频处理起来资源消耗太大，而且无法满足实时性要求；      
优点是考虑了时空维度信息，有利于表述整个视频发生的事件等全局信息，表达的特征更紧凑；    

## 1.2 帧特征
最大的缺陷在于未考虑视频时间维的信息，将帧与帧之间孤立起来了；     
优点是对视频空间信息的特征描述的力度更细一些，在某些场景中，比如校验两个视频是否是重复视频，基于帧级别的特征反而更适用；    

*一般不会使用视频级特征，太耗时了；*      


# 2 相似度度量

## 2.1 多帧相似读度量
多帧匹配中主要会存在A视频中的多个帧匹配到B视频中的一帧或交叉匹配的情况；常用的解决方案有动态规划或[累积最小（大）距离](https://yongyuan.name/blog/asymmetry-problem-in-computer-vision.html)来避免这种情况；其中后者计算效率更高；    

# 3 检索

## 3.1 基本方案


## 3.2 暴力搜索多帧排序
>检索视频的每一帧特征与库中所有视频一一比对（使用累积最大余弦相似度），最终找出相似度帧数最高的视频；     

优势：特征匹配效果好，召回率比较高；特征维度不高的情况下（几百维），用 SSE 加速后，距离计算很快；     

*针对每个视频会有 m 个特征（就是检索视频的帧数）；一般会取几百维的特征，如果深度特征维度过高，会进行降维，其精度损失通常很小；*    

## 3.3 最近邻多帧排序
>暴力搜索无法满足实时性要求；就需要用近似近邻搜索构建索引；    

### 3.3.1 OPQ
>计算非对称距离；    

使用 [partial_sort](https://www.cnblogs.com/qlee/archive/2011/05/25/2057281.html) 进行排序；    

# 4 应用
## 4.1 重复视频检测
方案：    
1. 视频帧提取（时序采样、镜头边界检测+关键帧提取）——>帧级特征提取（LBP、颜色直方图或深度特征）——>相似度度量    

## 4.2 相似视频检索

-------------------  
[End](#head)
{:.warning}  


# 附录
